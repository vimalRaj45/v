<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration Form</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        body {
            background-color:  #ead1b1; 
            font-family: Arial, sans-serif; 
        }
        h2 {
            color: #333; 
            margin-bottom: 20px; 
        }
        label {
            font-weight: bold; 
        }
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1055;
        }
        .toast {
            background-color: rgba(255, 255, 255, 0.9); 
            border: 1px solid #17a2b8;
        }
        .toast-header {
            color: #007bff;
            font-weight: bold;
        }
        .toast-body {
            color: #333;
        }
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1050; 
            text-align: center; /* Center text */
        }
        .spinner-border {
            margin-top: 20%;
            width: 3rem;
            height: 3rem;
        }
        .but{
           color: #c47335
        }
        .but:hover{
            color: #c5651c;
        }
        /* From Uiverse.io by Nawsome */ 
.loader {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 10;
  width: 160px;
  height: 100px;
  margin-left: -80px;
  margin-top: -50px;
  border-radius: 5px;
  background: #1e3f57;
  animation: dot1_ 3s cubic-bezier(0.55,0.3,0.24,0.99) infinite;
}

.loader:nth-child(2) {
  z-index: 11;
  width: 150px;
  height: 90px;
  margin-top: -45px;
  margin-left: -75px;
  border-radius: 3px;
  background: #3c517d;
  animation-name: dot2_;
}

.loader:nth-child(3) {
  z-index: 12;
  width: 40px;
  height: 20px;
  margin-top: 50px;
  margin-left: -20px;
  border-radius: 0 0 5px 5px;
  background: #6bb2cd;
  animation-name: dot3_;
}

@keyframes dot1_ {
  3%,97% {
    width: 160px;
    height: 100px;
    margin-top: -50px;
    margin-left: -80px;
  }

  30%,36% {
    width: 80px;
    height: 120px;
    margin-top: -60px;
    margin-left: -40px;
  }

  63%,69% {
    width: 40px;
    height: 80px;
    margin-top: -40px;
    margin-left: -20px;
  }
}

@keyframes dot2_ {
  3%,97% {
    height: 90px;
    width: 150px;
    margin-left: -75px;
    margin-top: -45px;
  }

  30%,36% {
    width: 70px;
    height: 96px;
    margin-left: -35px;
    margin-top: -48px;
  }

  63%,69% {
    width: 32px;
    height: 60px;
    margin-left: -16px;
    margin-top: -30px;
  }
}

@keyframes dot3_ {
  3%,97% {
    height: 20px;
    width: 40px;
    margin-left: -20px;
    margin-top: 50px;
  }

  30%,36% {
    width: 8px;
    height: 8px;
    margin-left: -5px;
    margin-top: 49px;
    border-radius: 8px;
  }

  63%,69% {
    width: 16px;
    height: 4px;
    margin-left: -8px;
    margin-top: -37px;
    border-radius: 10px;
  }
}
    </style>
</head>
<body>
    <div class="container mt-5" id="formContainer">
        <p class="display-6">You Can Select Multiple Events</p>
        <h2 class="text-center">Event Registration Form</h2>
        <form id="myForm" action="javascript:void(0);" method="POST" onsubmit="handleSubmit()">
            <label for="eventType">Event Type</label>
            <select name="eventType" id="eventType" required class="form-control mb-2" multiple>
                <optgroup label="Technical Events">
                    <option value="Innovation Sprout">Innovation Sprout</option>
                    <option value="Quiz to Quirk">Quiz to Quirk</option>
                    <option value="IOT InnovateXpo">IOT InnovateXpo</option>
                    <option value="UI Design">UI Design</option>
                    <option value="Game Development">Game Development</option>
                    <option value="ML Fusion">ML Fusion</option>
                    <option value="AI Fusion">AI Fusion</option>
                    <option value="Dashing Boards">Dashing Boards</option>
                    <option value="Appventure">Appventure</option>
                </optgroup>
                <optgroup label="Non-Technical Events">
                    <option value="Memo O Mania">Memo O Mania</option>
                    <option value="Charde Fusion">Charde Fusion</option>
                    <option value="Karaoke">Karaoke</option>
                    <option value="Funfest">Fun fest</option>
                    <option value="Image Finder">Image Finder</option>
                    <option value="Aperture Magic">Aperture Magic</option>
                </optgroup>
            </select>

            <label>Registration Number</label>
            <input type="number" name="Regno" placeholder="Enter Registration Number" required class="form-control mb-2">

            <label>Name</label>
            <input type="text" name="name" placeholder="Enter Your Name" required class="form-control mb-2">

            <label for="dept">Department</label>
            <select name="dept" id="dept" required class="form-control mb-2">
                <option value="">Select Department</option>
                <option value="CSE">Computer Science and Engineering</option>
                <option value="AIML">Artificial Intelligence Machine Learning</option>
                <option value="ME">Mechanical Engineering</option>
                <option value="EE">Electrical Engineering</option>
                <option value="CE">Civil Engineering</option>
            </select>
            
            <label>Year</label>
            <select name="year" required class="form-control mb-2">
                <option value="">Select Year</option>
                <option value="1">1st Year</option>
                <option value="2">2nd Year</option>
                <option value="3">3rd Year</option>
                <option value="4">4th Year</option>
            </select>

            <label>Section</label>
            <input type="text" name="section" placeholder="Enter Section" required class="form-control mb-2">

            <label>Team Members (comma-separated)</label>
            <input type="text" name="teammember" placeholder="Enter Team Members" required class="form-control mb-2">

            <label>Team Leader</label>
            <input type="text" name="teamleder" placeholder="Enter Team Leader Name" required class="form-control mb-2">

            <button type="submit" class="btn btn-secondary" class="but">Submit</button>
        </form>
    </div>

    <!-- Loading Animation -->
    <div class="loading" id="loading">
        <!-- From Uiverse.io by Nawsome --> 
<div class="container">
	
	<div class="loader"></div>
	<div class="loader"></div>
	<h2 style="
    text-align: center; 
    margin-top: 20vh; 
    color: #007bff; 
    font-weight: bold; 
    font-size: 24px; 
    letter-spacing: 1px; 
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
">
    Please Wait...
</h2>

	<div class="loader"></div>
</div>

    </div>

    <!-- Toast Notification -->
    <div class="toast-container">
        <div class="toast" id="successToast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000">
            <div class="toast-header">
                <strong class="mr-auto">Success</strong>
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body">
                Registerd successfully!
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('#eventType').select2();

            window.handleSubmit = function() {
                const selectedEvents = $('#eventType').val();
                const actionLinks = {
                    "Innovation Sprout": "https://script.google.com/macros/s/AKfycbw9JXmJlhRPVWFNQmI-KixQZiujT_XsHPPSUMLDBbJomrpcazMS7_reG8Kgi1zPQXP_/exec",
                    "Quiz to Quirk": "https://script.google.com/macros/s/AKfycbz8eyyDQTzm6B7jGD_EG9Pbj85DPPk4_AOyI0c7ZfyAs52b-0H44JVWAFZt-4pHPmpXYQ/exec",
                    "IOT InnovateXpo": "https://script.google.com/macros/s/AKfycbzviASqzMLHfr3p-ngYc1z2X5btM3F2P7frRxnj5et5qe5ogVB2IW1G-bXNuvyxHiHB/exec",
                    "UI Design": "https://script.google.com/macros/s/AKfycbyyMF01jBzvCCMX5f59Ddy7CRuetR4UAs3ntpZSR-DuZPphc1-CMNvngbRX7YXhJ1C0_g/exec",
                    "Game Development": "https://script.google.com/macros/s/AKfycbwKsuVBmQ-z_hmPg__54Z2rrww0O6THmNosJqBA65JB1-a9XLedlkXc1gjR7KSxwH-Qnw/exec",
                    "ML Fusion": "https://script.google.com/macros/s/AKfycbxdOrLi7cKX1d1Ex_M7rhFGLkPW9kjC4c0S-KSCmE7I4frR3mzkqWfmedu5TTzYi5ggSQ/exec",
                    "AI Fusion": "https://script.google.com/macros/s/AKfycbyIsj32n0g_oqttjETqulJUEe4gNQ2YtQ_GFDZXa9f-RVUQRZyD-k_c1AAx8G2YgRfbPg/exec",
                    "Dashing Boards": "https://script.google.com/macros/s/AKfycbws4wHuLyULQqyp0H2g8ZQWnnfMv6VnPC26uDt1CcKxkGFNuLVV6xi-QQ3wlL69T7dDJQ/exec",
                    "Appventure": "https://script.google.com/macros/s/AKfycbzF58OUeU5Zl3Af-SUoRRAY4FbICZGSUKcJhtHR4DgDAWbHy01F16BL4keIbCKn22S0/exec",
                    "Memo O Mania": "https://script.google.com/macros/s/AKfycbxrtdpOJS7ZzNHCrX6cNkfiVYSZzeTrcLAPdK77u88gPl8NAX5YkpI5_vX4HkUUtOwE/exec",
                    "Charde Fusion": "https://script.google.com/macros/s/AKfycbzco9K-FyqV6ZnniPz_Bgk-rkUbNJcEFVDgdy4ZL9M0y_1buBC4ysw4ZrBh9g2hpew0/exec",
                    "Karaoke": "https://script.google.com/macros/s/AKfycbzIKffhb8b5HzzDtnw6YzKDS-HTaq9KKD_y6knH2giE_gEzHHy0fxH_WvXsMOzfsU8f/exec",
                    "Funfest": "https://script.google.com/macros/s/AKfycbwj4OtnZmAi5ltEpJH_yZoPqToXxFVXaUHCXy13GyxeVu7xi4yU4HNeR60cmAGt1cEuQ/exec",
                    "Image Finder": "https://script.google.com/macros/s/AKfycbzCRYbZ9N_UV1EUsxG_O50n_2CoUzy30hhV3-Cf9A0bhchz8iSFMbFrq_l0_JefIQzH/exec",
                    "Aperture Magic": "https://script.google.com/macros/s/AKfycbxUicNq9rMmMfvhNaW8h74RhiTkN2D5tRHahzPCmJ_K4VeqOGwY0uWhiPPZq1zGID4g/exec"
                };

                const form = document.getElementById('myForm');
                const selectedEventURLs = selectedEvents.map(event => actionLinks[event]);

                const data = new FormData(form);

                // Show loading spinner
                $('#loading').show();

                selectedEventURLs.forEach((url) => {
                    const xhr = new XMLHttpRequest();
                    xhr.open("POST", url, true);
                    xhr.onload = function () {
                        // Hide loading spinner
                        $('#loading').hide();
                        if (xhr.status === 200) {
                            // Show success message
                            $('#successToast').toast('show');
                        }
                    };
                    xhr.send(data);
                });
            };
        });
    </script>
</body>
</html
>
